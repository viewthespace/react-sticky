!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.ReactSticky=e(require("react"),require("react-dom")):t.ReactSticky=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.StickyContainer=e.Sticky=void 0;var i=o(4),r=n(i),s=o(3),a=n(s);e.Sticky=r.default,e.StickyContainer=a.default,e.default=r.default},function(e,o){e.exports=t},function(t,o){t.exports=e},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(1),u=n(c),f=o(2),l=n(f),p=function(t){function e(t){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this,t));return o.state={offset:0,rect:{}},o}return s(e,t),a(e,[{key:"getChildContext",value:function(){var t=this,e=(this.context.totalOffset||0)+this.state.offset,o=e-this.state.offset,n=this.state.node?this.state.node.getBoundingClientRect():{};return{container:t,totalOffset:e,offset:o,rect:n}}},{key:"componentDidMount",value:function(){var t=l.default.findDOMNode(this);this.setState({node:t})}},{key:"updateOffset",value:function(t){this.setState({offset:t})}},{key:"render",value:function(){return u.default.createElement("div",this.props,this.props.children)}}]),e}(u.default.Component);p.contextTypes={container:u.default.PropTypes.any,totalOffset:u.default.PropTypes.number},p.childContextTypes={container:u.default.PropTypes.any,totalOffset:u.default.PropTypes.number,offset:u.default.PropTypes.number,rect:u.default.PropTypes.any},e.default=p,t.exports=e.default},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},c=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=o(1),f=n(u),l=o(2),p=n(l),h=function(t){function e(t,o){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,t,o));return n.onScroll=function(){var t=n.getScrollTop(),e=n.getOrigin(t),o=n.isSticky(t,n.state.origin),i=n.state.isSticky!==o;n.setState({isSticky:o,origin:e}),n.context.container.updateOffset(o?n.state.height:0),i&&n.props.onStickyStateChange(o)},n.onResize=function(){var t=p.default.findDOMNode(n).getBoundingClientRect().height,e=n.getOrigin(n.getScrollTop());n.setState({height:t,origin:e})},n.viewport=n.props.viewport||window,n.state={isSticky:!1},n}return s(e,t),c(e,[{key:"componentDidMount",value:function(){this.update(),this.startListening()}},{key:"componentWillReceiveProps",value:function(t){this.update(),this.viewport!==t.viewport&&(this.stopListening(),this.viewport=t.viewport||window)}},{key:"componentDidUpdate",value:function(t){this.viewport!==t.viewport&&this.startListening()}},{key:"componentWillUnmount",value:function(){this.stopListening()}},{key:"getOrigin",value:function(t){return this.refs.placeholder.getBoundingClientRect().top+t}},{key:"getScrollTop",value:function(){return this.viewport==window?window.pageYOffset:this.viewport.scrollTop?this.viewport.scrollTop:0}},{key:"startListening",value:function(){this.on(["scroll","touchstart","touchmove","touchend","pageshow","load"],this.onScroll),this.on(["resize","pageshow","load"],this.onResize)}},{key:"stopListening",value:function(){this.off(["scroll","touchstart","touchmove","touchend","pageshow","load"],this.onScroll),this.off(["resize","pageshow","load"],this.onResize)}},{key:"update",value:function(){var t=p.default.findDOMNode(this).getBoundingClientRect().height,e=this.getScrollTop(),o=this.getOrigin(e),n=this.isSticky(e,o);this.setState({height:t,origin:o,isSticky:n})}},{key:"isSticky",value:function(t,e){return this.props.isActive&&t+this.context.offset-this.props.topOffset>=e&&this.context.offset<=(this.context.rect.bottom||0)-this.props.bottomOffset}},{key:"on",value:function(t,e){var o=this;t.forEach(function(t){o.viewport.addEventListener(t,e)})}},{key:"off",value:function(t,e){var o=this;t.forEach(function(t){o.viewport.removeEventListener(t,e)})}},{key:"render",value:function(){var t=this.state.isSticky,e=this.props.className;t&&(e+=" "+this.props.stickyClassName);var o=this.props.style;if(t){var n=this.refs.placeholder.getBoundingClientRect(),i={position:"fixed",top:this.context.offset,left:n.left,width:n.width},r=(this.context.rect.bottom||0)-this.state.height-this.props.bottomOffset;this.context.offset>r&&(i.top=r),o=a({},this.props.style,i,this.props.stickyStyle)}return f.default.createElement("div",null,f.default.createElement("div",{ref:"placeholder",style:{paddingBottom:t?this.state.height:0}}),f.default.createElement("div",a({},this.props,{className:e,style:o}),this.props.children))}}]),e}(f.default.Component);h.contextTypes={container:f.default.PropTypes.any,offset:f.default.PropTypes.number,rect:f.default.PropTypes.object},h.propTypes={isActive:f.default.PropTypes.bool},h.defaultProps={isActive:!0,viewport:null,className:"",style:{},stickyClassName:"sticky",stickyStyle:{},topOffset:0,bottomOffset:0,onStickyStateChange:function(){}},e.default=h,t.exports=e.default}])});